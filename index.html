<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>お弁当アンケート</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      background: #ffffff;
      overflow: hidden;
      text-align: center;
    }
    .question-box {
      padding: 2rem;
    }
    .options button {
      margin: 1rem;
      padding: 1rem 2rem;
      font-size: 1rem;
      border-radius: 1rem;
      background: #ffd700;
      border: none;
      cursor: pointer;
    }
    #resultScreen {
      display: none;
      position: relative;
      width: 100vw;
      height: 100vh;
      background: #fff;
      overflow: hidden;
    }
    #movingImage {
      width: 300px;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      opacity: 0;
      transition: transform 2s ease-in-out, opacity 1s;
    }
    #message {
      position: absolute;
      top: 70%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.5rem;
      font-weight: bold;
      opacity: 0;
      color: #e91e63;
      animation: sparkle 1s ease-in-out infinite alternate;
    }
    @keyframes sparkle {
      0% { filter: brightness(1); }
      100% { filter: brightness(1.8); }
    }
  </style>
</head>
<body>
  <div class="question-box" id="questionBox">
    <h1>今日のお弁当はいかがでしたか？</h1>
    <button onclick="showQuestion()">質問を表示</button>
  </div>

  <div class="question-box" id="questionArea" style="display:none;"></div>

  <div id="resultScreen">
    <img id="movingImage" src="https://raw.githubusercontent.com/minami00901/bento-ar/main/%E3%81%8A%E3%81%84%E3%81%97%E3%81%84%E3%81%A8%E3%83%87%E3%82%B8%E3%82%BF%E3%83%AB%E3%81%A7%E7%B9%8B%E3%81%8C%E3%82%8C%EF%BC%81.png" alt="ありがとう画像">
    <div id="message">おいしいとデジタルでつながる！</div>
  </div>

  <script>
    const questions = [
      {
        text: "今日のお弁当はいかがでしたか？",
        options: [
          "① とても美味しかった（心の中で拍手しました）",
          "② 普通（空腹は満たされました）",
          "③ ちょっと惜しい（あと一歩の伸びしろ）"
        ]
      }
    ];

    function showQuestion() {
      const q = questions[0];
      const area = document.getElementById("questionArea");
      area.innerHTML = `<h2>${q.text}</h2><div class="options">${q.options.map(opt => `<button onclick="showResult()">${opt}</button>`).join("")}</div>`;
      area.style.display = "block";
      document.getElementById("questionBox").style.display = "none";
    }

    function showResult() {
      document.getElementById("questionArea").style.display = "none";
      const resultScreen = document.getElementById("resultScreen");
      const image = document.getElementById("movingImage");
      const message = document.getElementById("message");

      resultScreen.style.display = "block";

      // ランダムな方向に移動
      const x = (Math.random() - 0.5) * 400;
      const y = (Math.random() - 0.5) * 400;
      image.style.transform = `translate(${x}px, ${y}px)`;
      image.style.opacity = 1;

      setTimeout(() => {
        image.style.transform = "translate(-50%, -50%)";
        setTimeout(() => {
          message.style.opacity = 1;
        }, 1000);
      }, 2000);
    }
  </script>
</body>
</html>
